{"version":3,"sources":["../../src/controllers/inventory.controller.js"],"names":["InventoryController","req","res","newRecord","InventoryModel","user","params","userId","group","groupId","question","questionId","err","send","save","data","json","deleteOne","message"],"mappings":";;;;;;;qjBAAA;;;;;;AAIA;;;;IAEaA,mB,WAAAA,mB;;;;;;;qCACKC,G,EAAKC,G,EAAK;AACpB,gBAAIC,kBAAJ;AACA,gBAAI;AACA;AACAA,4BAAY,IAAIC,yBAAJ,CAAmB;AAC3BC,0BAAMJ,IAAIK,MAAJ,CAAWC,MADU;AAE3BC,2BAAOP,IAAIK,MAAJ,CAAWG,OAFS;AAG3BC,8BAAUT,IAAIK,MAAJ,CAAWK;AAHM,iBAAnB,CAAZ;AAKH,aAPD,CAOE,OAAOC,GAAP,EAAY;AACVV,oBAAIW,IAAJ,CAASD,GAAT;AACH,aATD,SASU;AACNT,0BAAUW,IAAV,CAAe,UAACF,GAAD,EAAMG,IAAN,EAAa;AACxB,wBAAGH,GAAH,EAAQV,IAAIW,IAAJ,CAASD,GAAT,EAAR,KACKV,IAAIc,IAAJ,CAASD,IAAT;AACR,iBAHD;AAIH;AACJ;;AAED;;;;qCACcd,G,EAAKC,G,EAAK;AACpB,gBAAI;AACAE,0CAAea,SAAf,CAAyB;AACrBZ,0BAAMJ,IAAIK,MAAJ,CAAWC,MADI;AAErBC,2BAAOP,IAAIK,MAAJ,CAAWG,OAFG;AAGrBC,8BAAUT,IAAIK,MAAJ,CAAWK;AAHA,iBAAzB,EAIG,UAACC,GAAD,EAAO;AACN,wBAAIA,GAAJ,EAASV,IAAIW,IAAJ,CAASD,GAAT,EAAT,KACKV,IAAIc,IAAJ,CAAS,EAAEE,SAAS,uCAAX,EAAT;AACR,iBAPD;AAQH,aATD,CASE,OAAON,GAAP,EAAY;AACVV,oBAAIW,IAAJ,CAASD,GAAT;AACH;AACJ","file":"inventory.controller.js","sourcesContent":["/**\r\n * Controller to add a list of all Users who have completed a question\r\n * contains two fields - List of users, List of Questions\r\n*/\r\nimport { InventoryModel } from './../models/inventory.model';\r\n\r\nexport class InventoryController {\r\n    addNewRecord (req, res) {\r\n        let newRecord;\r\n        try {\r\n            // Query Question\r\n            newRecord = new InventoryModel({\r\n                user: req.params.userId,\r\n                group: req.params.groupId,\r\n                question: req.params.questionId\r\n            });\r\n        } catch (err) {\r\n            res.send(err);\r\n        } finally {\r\n            newRecord.save((err, data)=>{\r\n                if(err) res.send(err);\r\n                else res.json(data);\r\n            });\r\n        }\r\n    }\r\n\r\n    // Delete - Delete a record by searching userId and questionId\r\n    deleteRecord (req, res) {\r\n        try {\r\n            InventoryModel.deleteOne({\r\n                user: req.params.userId,\r\n                group: req.params.groupId,\r\n                question: req.params.questionId\r\n            }, (err)=>{\r\n                if (err) res.send(err);\r\n                else res.json({ message: 'Successfully deleted inventory record'});\r\n            });\r\n        } catch (err) {\r\n            res.send(err);\r\n        }  \r\n    }        \r\n}"]}